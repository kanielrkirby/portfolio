<div
  class="fixed left-0 top-0 z-[1000] h-full w-full bg-white transition-all duration-500"
  id="loading-screen"
>
  <div
    class="*:absolute *:h-full *:w-full *:rounded-full *:border-[5px] *:opacity-50 absolute-center aspect-square w-16"
  >
    <div class="animate-spin-slow border-t-black"></div>
    <div class="animate-spin border-b-black"></div>
  </div>
</div>

<style>
  html.loading #loading-screen {
    @apply block;
  }
  html.loading.fade #loading-screen {
    @apply pointer-events-none opacity-0;
  }
  html:not(.loading) #loading-screen {
    @apply hidden;
  }
</style>

<script>
  const loadingScreen = document.querySelector(
    "#loading-screen"
  ) as HTMLDivElement;

  window.addEventListener("load", async (e) => {
    document.documentElement.classList.add("fade");
    loadingScreen.ontransitionend = loadingScreen.ontransitioncancel = () =>
      document.documentElement.classList.remove("fade", "loading");
  });
</script>
